<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=no">
    <title>Neon OS ¬∑ –ò–≥—Ä—ã, –ë—Ä–∞—É–∑–µ—Ä, –§–∞–π–ª—ã</title>
    <link href="https://fonts.googleapis.com/css2?family=Asap:wght@300;400;500;600;700&family=Amaranth:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono:wght@300;400;600&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        /* --- ROOT & RESET --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --hue1: 255;
            --hue2: 222;
            --border: 1px;
            --border-color: hsl(var(--hue2), 12%, 20%);
            --radius: 22px;
            --ease: cubic-bezier(0.5, 1, 0.89, 1);
            --glass-bg: linear-gradient(235deg, hsl(var(--hue1) 50% 10% / 0.8), hsl(var(--hue1) 50% 10% / 0) 33%), 
                        linear-gradient(45deg , hsl(var(--hue2) 50% 10% / 0.8), hsl(var(--hue2) 50% 10% / 0) 33%), 
                        linear-gradient(hsl(220deg 25% 4.8% / 0.9));
            --font-mono: 'JetBrains Mono', 'Courier New', monospace;
            --font-retro: 'Press Start 2P', cursive;
            --wallpaper: url('https://assets.codepen.io/13471/abstract-light.jpg');
            --wallpaper-overlay: linear-gradient(to right in oklab, hsl(var(--hue2) 50% 75%), hsl(var(--hue1) 50% 75%));
        }

        body {
            background: #08090d;
            background-image: var(--wallpaper), var(--wallpaper-overlay);
            background-size: cover;
            background-position: center;
            background-blend-mode: hard-light;
            color: #e0e5ee;
            font-family: 'Asap', sans-serif;
            min-height: 100vh;
            padding: 0;
            transition: background-image 0.4s var(--ease), background-color 0.2s ease;
            overflow-x: hidden;
        }

        #app {
            min-height: 100svh;
            padding: 2svw;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        #app > header {
            display: flex;
            gap: 0.5em;
            flex-direction: column;
            background: rgba(0,0,0,0.2);
            backdrop-filter: blur(8px);
            padding: 1.5em 2em;
            border-radius: 40px;
            border: 0.5px solid rgba(255,255,255,0.1);
            max-width: 700px;
        }
        #app > header h1 {
            margin: 0;
            color: color-mix(in oklab, #fff 70%, hsl(var(--hue1) 50% 50%));
            font-size: 2rem;
            font-weight: 600;
            letter-spacing: 2px;
            text-shadow: 0 0 12px hsl(var(--hue1) 70% 60% / 0.5);
        }
        #app > header p {
            color: color-mix(in oklab, #fff 40%, hsl(var(--hue2) 50% 50%));
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        #app > footer {
            align-self: end;
            max-width: calc(96svw - 200px);
            display: flex;
            flex-wrap: wrap;
            gap: 0.5em;
            background: rgba(0,0,0,0.25);
            backdrop-filter: blur(8px);
            padding: 1em 2em;
            border-radius: 40px;
            border: 0.5px solid rgba(255,255,255,0.1);
        }
        #app > footer h2 {
            width: 100%;
            font-size: 1em;
            font-weight: 400;
            color: rgba(255,255,255,0.8);
        }
        footer h2 button {
            font-family: Amaranth, sans-serif;
            font-style: italic;
            text-transform: none;
            display: inline-flex;
            padding: 0.25em 0.8em;
            margin-inline: 0.33em;
            background: rgba(255,255,255,0.12);
            border: 1px solid rgba(255,255,255,0.25);
            border-radius: 3em;
            color: white;
            cursor: pointer;
            transition: 0.2s;
            font-size: 0.9rem;
        }

        #app > footer [type=range] {
            width: 180px;
            margin: 0 8px 0 0;
            accent-color: hsl(var(--hue2) 66% 60%);
        }

        .wallpaper-btn {
            background: rgba(20,30,50,0.6);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 0.4em 1.2em;
            border-radius: 30px;
            font-size: 0.85rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: 0.2s;
            backdrop-filter: blur(4px);
        }

        /* --- –ö–û–ù–¢–ï–ö–°–¢–ù–û–ï –ú–ï–ù–Æ (–û–°) --- */
        #menu {
            visibility: hidden;
            opacity: 0;
            pointer-events: none;
            transition: visibility 0s 0.5s, opacity 0.25s var(--ease), filter 0.25s var(--ease);
            filter: blur(4px);
            font-family: 'Asap', sans-serif;
            color: #b3bbcc;
            position: fixed;
            top: 140px;
            left: 2svw;
            min-width: 280px;
            max-width: 320px;
            border-radius: var(--radius);
            border: var(--border) solid var(--border-color);
            padding: 1em;
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            box-shadow: hsl(var(--hue2) 50% 2%) 0px 12px 28px -10px, 
                        hsl(var(--hue2) 50% 4%) 0px 24px 48px -16px,
                        0 0 0 1px hsl(var(--hue1) 60% 60% / 0.1) inset;
            z-index: 10000;
            max-height: 80vh;
            overflow-y: auto;
        }

        #menu.open {
            visibility: visible;
            opacity: 1;
            pointer-events: auto;
            transition-delay: 0s;
            filter: blur(0px);
        }

        #menu .inner { 
            display: flex; 
            flex-direction: column; 
            gap: 0.6em; 
            font-size: 0.85rem; 
        }
        
        #menu section { 
            display: flex; 
            flex-direction: column; 
            gap: 0.3em; 
        }
        
        #menu hr { 
            margin: 0.2em 0; 
            opacity: 0.4; 
            border: none;
            border-top: 0.5px solid rgba(255,255,255,0.2);
        }
        
        #menu li {
            --item-hue: var(--hue2); 
            position: relative; 
            padding: 0.6em 0.8em;
            min-height: 36px;
            display: flex; 
            align-items: center; 
            gap: 0.7em; 
            border-radius: 14px;
            border: 1px solid transparent; 
            transition: all 0.2s ease;
            background: linear-gradient(90deg in oklch, hsl(var(--item-hue) 29% 13% / var(--item-opacity,0)),
                      hsl(var(--item-hue) 30% 15% / var(--item-opacity,0)) 24% 32%, transparent 95%) border-box;
            cursor: pointer;
            font-size: 0.85rem;
        }
        
        #menu li svg {
            width: 18px;
            height: 18px;
            stroke-width: 1.5;
            flex-shrink: 0;
        }
        
        #menu li:hover { 
            --item-opacity: 0.6; 
            color: white; 
        }

        .wallpaper-section {
            margin-top: 0.5em;
            border-top: 0.5px solid rgba(255,255,255,0.1);
            padding-top: 0.6em;
        }
        
        .wallpaper-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            margin-top: 8px;
        }
        
        .wallpaper-item {
            aspect-ratio: 16/9;
            border-radius: 8px;
            border: 1.5px solid transparent;
            cursor: pointer;
            transition: 0.2s;
            background-size: cover;
            background-position: center;
        }
        
        .wallpaper-item.active {
            border-color: white;
            box-shadow: 0 0 12px hsl(var(--hue1) 80% 70%);
        }

        /* --- –ù–ï–û–ù–û–í–´–ï –û–ö–ù–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–ô --- */
        .neon-app {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            max-width: 95vw;
            max-height: 85vh;
            overflow-y: auto;
            background: linear-gradient(145deg, hsl(var(--hue1) 40% 12% / 0.97), hsl(var(--hue2) 40% 8% / 0.97));
            backdrop-filter: blur(24px);
            border: 1px solid hsl(var(--hue1) 60% 60% / 0.5);
            border-radius: 28px;
            padding: 1.5em 1.5em 1.8em;
            box-shadow: 0 20px 48px -12px black, 0 0 0 1px hsl(var(--hue1) 70% 70% / 0.2) inset,
                        0 0 48px hsl(var(--hue1) 70% 60% / 0.2);
            color: white;
            z-index: 20000;
            opacity: 0;
            animation: neonAppear 0.3s var(--ease) forwards;
        }

        @keyframes neonAppear {
            0% { opacity: 0; transform: translate(-50%, -44%) scale(0.96); filter: blur(4px); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); filter: blur(0px); }
        }

        .neon-app .app-header {
            display: flex; 
            align-items: center; 
            gap: 10px; 
            margin-bottom: 1.2em;
            border-bottom: 1px solid hsl(var(--hue2) 60% 70% / 0.3); 
            padding-bottom: 0.6em;
        }
        
        .neon-app .app-header svg { 
            width: 26px;
            height: 26px; 
            stroke: hsl(var(--hue1) 80% 80%); 
        }
        
        .neon-app .app-header h2 {
            font-size: 1.5rem; 
            font-weight: 500; 
            font-family: 'Amaranth', sans-serif; 
            font-style: italic;
            text-shadow: 0 0 10px hsl(var(--hue1) 80% 70% / 0.6); 
            margin: 0; 
        }
        
        .neon-app .app-content {
            font-size: 0.95rem; 
            line-height: 1.5; 
            color: rgba(255,255,255,0.95);
            min-height: 120px; 
            background: rgba(0,0,0,0.2); 
            border-radius: 20px; 
            padding: 1.2em;
            border: 0.5px solid rgba(255,255,255,0.1); 
        }

        .neon-app .app-close {
            position: absolute; 
            top: 14px; 
            right: 18px; 
            background: transparent; 
            border: none;
            color: rgba(255,255,255,0.6); 
            font-size: 26px; 
            cursor: pointer; 
            padding: 0 8px;
            border-radius: 30px; 
            line-height: 1;
            transition: 0.2s;
            z-index: 10;
        }
        .neon-app .app-close:hover {
            background: rgba(255,255,255,0.15);
            color: white;
        }

        /* --- –ò–ì–†–´ --- */
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }
        
        .snake-grid {
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            gap: 2px;
            background: rgba(0,0,0,0.4);
            padding: 8px;
            border-radius: 16px;
            width: 100%;
            aspect-ratio: 1;
        }
        
        .snake-cell {
            aspect-ratio: 1;
            background: rgba(20,30,50,0.6);
            border-radius: 4px;
            transition: 0.05s;
        }
        
        .snake-cell.snake {
            background: hsl(var(--hue1), 80%, 70%);
            box-shadow: 0 0 8px hsl(var(--hue1), 80%, 60%);
        }
        
        .snake-cell.food {
            background: hsl(var(--hue2), 80%, 70%);
            box-shadow: 0 0 8px hsl(var(--hue2), 80%, 60%);
            border-radius: 50%;
        }
        
        .tetris-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            background: rgba(0,0,0,0.4);
            padding: 8px;
            border-radius: 16px;
            aspect-ratio: 0.5;
            width: 100%;
        }
        
        .tetris-cell {
            aspect-ratio: 1;
            background: rgba(20,30,50,0.6);
            border-radius: 4px;
        }
        
        .tetris-cell.active {
            background: hsl(var(--hue1), 80%, 65%);
            box-shadow: 0 0 6px hsl(var(--hue1), 80%, 60%);
        }

        /* --- –ù–ï–û–ù–ë–†–ê–£–ó–ï–† (WebView) --- */
        .neon-browser {
            display: flex;
            flex-direction: column;
            height: 450px;
            max-height: 60vh;
        }
        
        .browser-toolbar {
            display: flex;
            gap: 8px;
            padding: 8px;
            background: rgba(0,0,0,0.3);
            border-radius: 30px;
            margin-bottom: 12px;
            align-items: center;
        }
        
        .browser-url {
            flex: 1;
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px;
            padding: 0.6em 1em;
            color: white;
            font-size: 0.85rem;
        }
        
        .browser-go {
            background: hsl(var(--hue1), 70%, 60%);
            border: none;
            border-radius: 30px;
            padding: 0.6em 1.2em;
            color: white;
            cursor: pointer;
            font-weight: 500;
        }
        
        .browser-frame {
            flex: 1;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .browser-frame iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }
        
        /* --- –§–ê–ô–õ–û–í–´–ô –ú–ï–ù–ï–î–ñ–ï–† --- */
        .file-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0.8em;
            background: rgba(0,0,0,0.25);
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.1s;
        }
        
        .file-item:hover {
            background: rgba(60,80,120,0.3);
            border-color: rgba(255,255,255,0.2);
        }
        
        .file-icon {
            font-size: 1.6rem;
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-weight: 500;
            margin-bottom: 4px;
        }
        
        .file-meta {
            font-size: 0.7rem;
            opacity: 0.7;
        }
        
        .download-area {
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 20px;
            padding: 1.5em;
            text-align: center;
            margin-top: 12px;
            cursor: pointer;
            transition: 0.2s;
        }
        
        .download-area:hover {
            border-color: hsl(var(--hue1), 70%, 70%);
            background: rgba(100,100,200,0.1);
        }

        .neon-notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(12px);
            color: white;
            padding: 0.8em 2em;
            border-radius: 50px;
            border: 1px solid hsl(var(--hue1) 70% 70% / 0.6);
            font-size: 0.9rem;
            z-index: 30000;
            animation: notifFade 3s ease forwards;
            box-shadow: 0 0 25px hsl(var(--hue1) 70% 60% / 0.4);
            max-width: 90vw;
            word-break: break-word;
        }
        @keyframes notifFade {
            0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            15% { opacity: 1; transform: translateX(-50%) translateY(0); }
            85% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
        }

        .social-icon { 
            position: fixed; 
            bottom: 16px; 
            right: 16px; 
            z-index: 9999; 
            background: rgba(0,0,0,0.35); 
            backdrop-filter: blur(8px); 
            padding: 0.4em 1em; 
            border-radius: 30px; 
            border: 0.5px solid rgba(255,255,255,0.2); 
            color: #ccc; 
            text-decoration: none; 
            display: flex; 
            gap: 5px; 
            align-items: center; 
            font-size: 0.8rem; 
        }
        .social-icon svg { width: 18px; height: 18px; fill: currentColor; }
        .social-icon.codepen { right: auto; left: 16px; }
    </style>
</head>
<body>

<main id="app">
    <header>
        <h1>‚ö° NEON OS</h1>
        <p>
            –ò–≥—Ä—ã ¬∑ –ë—Ä–∞—É–∑–µ—Ä ¬∑ –§–∞–π–ª—ã ¬∑ –ü–æ–≥–æ–¥–∞
            <span class="wallpaper-btn" id="openWallpaperMenu">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5z"/>
                </svg>
                –û–±–æ–∏
            </span>
        </p>
    </header>
    <footer class="dark">
        <h2>üé® –¢–µ–º–∞ ¬∑ <button class='random' id="randomBtn">randomize</button></h2>
        <input type="range" id="h1" min="0" max="360" value="255">
        <input type="range" id="h2" min="0" max="360" value="222">
    </footer>
</main>

<aside id="menu" class="open dark">
    <span class="shine shine-top"></span>
    <span class="shine shine-bottom"></span>
    <span class="glow glow-top"></span>
    <span class="glow glow-bottom"></span>
    <span class="glow glow-bright glow-top"></span>
    <span class="glow glow-bright glow-bottom"></span>
    <div class="inner">
        <section>
            <header style="font-size:0.7rem; opacity:0.8; letter-spacing:2px;">üéÆ –ò–ì–†–´</header>
            <ul>
                <li data-app="snake">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="9"/>
                    </svg>
                    –ó–º–µ–π–∫–∞ (Neon)
                </li>
                <li data-app="tetris">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 3v18"/>
                    </svg>
                    –¢–µ—Ç—Ä–∏—Å (Lite)
                </li>
                <li data-app="snake2">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <path d="M4 12h16M12 4v16"/>
                    </svg>
                    –ö–ª–∞—Å—Å–∏–∫–∞ 15x15
                </li>
            </ul>
        </section>
        
        <hr>
        
        <section>
            <header style="font-size:0.7rem; opacity:0.8; letter-spacing:2px;">üåê –ò–ù–¢–ï–†–ù–ï–¢</header>
            <ul>
                <li data-app="browser">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <circle cx="12" cy="12" r="9"/><path d="M12 3v18M3 12h18"/>
                    </svg>
                    NeonBrowser (WebView)
                </li>
                <li data-app="files">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <path d="M2.5 12.5L9 5l6.5 7.5M9 5v14"/>
                    </svg>
                    –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
                </li>
            </ul>
        </section>
        
        <hr>
        
        <section>
            <header style="font-size:0.7rem; opacity:0.8; letter-spacing:2px;">üß∞ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø</header>
            <ul>
                <li data-app="calculator">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"/></svg>
                    –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
                </li>
                <li data-app="notes">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8.25 6.75h7.5M8.25 12h7.5m-7.5 5.25h4.5m-5.273-9.955a3.75 3.75 0 0 1 5.304 0l6.19 6.19a3.75 3.75 0 0 1 0 5.304l-4.095 4.095a3.75 3.75 0 0 1-5.304 0l-6.19-6.19a3.75 3.75 0 0 1 0-5.304l1.095-1.095Z"/></svg>
                    –ó–∞–º–µ—Ç–∫–∏
                </li>
                <li data-app="weather">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"/></svg>
                    –ü–æ–≥–æ–¥–∞ (–†–æ—Å—Å–∏—è)
                </li>
                <li data-app="music">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a2.25 2.25 0 0 1-2.673-1.632l-.377-1.32a2.25 2.25 0 0 1 1.632-2.673L19.5 9.553Z"/></svg>
                    –ú—É–∑—ã–∫–∞
                </li>
                <li data-app="terminal">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 5.25h13.5A2.25 2.25 0 0 0 21 15V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v9a2.25 2.25 0 0 0 2.25 2.25Z"/></svg>
                    –¢–µ—Ä–º–∏–Ω–∞–ª
                </li>
                <li data-app="timer">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 6v6l4 2m-4-10.5a9 9 0 1 0 0 18 9 9 0 0 0 0-18Z"/></svg>
                    –¢–∞–π–º–µ—Ä
                </li>
            </ul>
        </section>

        <section class="wallpaper-section">
            <header style="font-size:0.7rem; opacity:0.8; display:flex; align-items:center; gap:4px;">
                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor">
                    <path d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5z"/>
                </svg>
                –û–±–æ–∏
            </header>
            <div class="wallpaper-grid" id="wallpaperGrid"></div>
        </section>
    </div>
</aside>

<a class="social-icon codepen" href="https://codepen.io/simeydotme">‚ö° Neon OS</a>
<a class="social-icon twitter" href="https://twitter.com/simeydotme">
    <svg viewBox="0 0 24 24"><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737s-2.643 2.06-2.62 3.737v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753c-.002-.249 1.51-2.772 1.818-4.013z"/></svg>
</a>
<a class="social-icon github" href="https://github.com/simeydotme">
    <svg viewBox="0 0 24 24"><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0c-2.4-1.6-3.5-1.3-3.5-1.3a4.2 4.2 0 0 0-.1 3.2 4.6 4.6 0 0 0-1.3 3.2c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2v3.5"/></svg>
</a>

<script>
    (function(){
        "use strict";

        // ---------- –≠–õ–ï–ú–ï–ù–¢–´ ----------
        const $menu = document.getElementById('menu');
        const $menuItems = $menu.querySelectorAll('li');
        const $hue1 = document.getElementById('h1');
        const $hue2 = document.getElementById('h2');
        const $rand = document.getElementById('randomBtn');
        const $openWallpaperBtn = document.getElementById('openWallpaperMenu');
        let cleanTimer;

        // ========== –í–ê–® API –ö–õ–Æ–ß WEATHERAPI.COM ==========
        const WEATHER_API_KEY = "181ac29b75bb4115a86191537261102";
        
        const RUSSIAN_CITIES = [
            "–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä", "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", 
            "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "–ö–∞–∑–∞–Ω—å", "–°–æ—á–∏", "–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫"
        ].sort();

        // ---------- –§–ê–ô–õ–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê NEON OS ----------
        let neonFileSystem = JSON.parse(localStorage.getItem('neon-files')) || [
            { name: "–ø—Ä–∏–≤–µ—Ç.txt", type: "txt", size: "1.2 KB", date: new Date().toLocaleDateString(), content: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Neon OS!" },
            { name: "—É—Å—Ç–∞–Ω–æ–≤—â–∏–∫.exe", type: "exe", size: "2.5 MB", date: new Date().toLocaleDateString(), content: "NEON_INSTALLER" },
            { name: "—Å–∫—Ä–∏–ø—Ç.bat", type: "bat", size: "0.8 KB", date: new Date().toLocaleDateString(), content: "echo Neon OS Ready" },
            { name: "—Ñ–æ—Ç–æ.png", type: "png", size: "3.1 MB", date: new Date().toLocaleDateString(), content: "IMAGE_DATA" },
            { name: "–º—É–∑—ã–∫–∞.mp3", type: "mp3", size: "5.7 MB", date: new Date().toLocaleDateString(), content: "AUDIO_DATA" }
        ];

        function saveFileSystem() {
            localStorage.setItem('neon-files', JSON.stringify(neonFileSystem));
        }

        // ---------- –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–ì–†–£–ó–û–ö (–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨) ----------
        function handleDownloadedFile(filename, content) {
            const ext = filename.split('.').pop().toLowerCase();
            const safeExts = ['txt', 'bat', 'exe', 'js', 'html', 'css', 'json', 'md', 'ini', 'cfg'];
            
            let fileType = ext;
            let fileSize = Math.floor(Math.random() * 10 + 1) + '.' + Math.floor(Math.random() * 9) + ' KB';
            
            const newFile = {
                name: filename,
                type: fileType,
                size: fileSize,
                date: new Date().toLocaleDateString(),
                content: content || `–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ ${filename}`
            };
            
            neonFileSystem.push(newFile);
            saveFileSystem();
            
            // –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –†–ê–°–®–ò–†–ï–ù–ò–ô
            let warning = '';
            let action = '';
            
            if (ext === 'exe' || ext === 'bat' || ext === 'msi' || ext === 'cmd') {
                warning = '‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª!';
                action = 'üõ°Ô∏è Neon OS: –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ';
                showNotification(`üîß –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ ${filename} –æ–±—Ä–∞–±–æ—Ç–∞–Ω. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è: –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞`, 5000);
            } else if (ext === 'txt' || ext === 'md' || ext === 'log') {
                action = 'üìÑ –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É';
                showNotification(`üìÑ –§–∞–π–ª ${filename} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É`, 3000);
            } else if (ext === 'png' || ext === 'jpg' || ext === 'jpeg' || ext === 'gif' || ext === 'svg') {
                action = 'üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ';
                showNotification(`üñºÔ∏è ${filename} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥–∞–ª–µ—Ä–µ—é`, 3000);
            } else if (ext === 'mp3' || ext === 'wav' || ext === 'ogg' || ext === 'flac') {
                action = 'üéµ –ê—É–¥–∏–æ—Ñ–∞–π–ª –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω';
                showNotification(`üéµ ${filename} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –º–µ–¥–∏–∞—Ç–µ–∫—É`, 3000);
            } else {
                action = 'üì¶ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω';
                showNotification(`üì¶ ${filename} –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ`, 3000);
            }
            
            // –õ–æ–≥–∏—Ä—É–µ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
            console.log(`[NeonOS] Download: ${filename} | ${action}`);
        }

        // ---------- –û–ë–û–ò ----------
        const wallpapers = [
            { name: "Abstract Neon", url: "https://assets.codepen.io/13471/abstract-light.jpg", preview: "https://assets.codepen.io/13471/abstract-light.jpg", overlay: "linear-gradient(to right in oklab, hsl(var(--hue2) 50% 75%), hsl(var(--hue1) 50% 75%))" },
            { name: "Cyber Grid", url: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=500&auto=format", preview: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=100&h=60&fit=crop", overlay: "linear-gradient(45deg, hsl(var(--hue1) 70% 60% / 0.2), hsl(var(--hue2) 70% 60% / 0.2))" },
            { name: "Neon City", url: "https://images.unsplash.com/photo-1519608487953-e17c5135a08e?w=500&auto=format", preview: "https://images.unsplash.com/photo-1519608487953-e17c5135a08e?w=100&h=60&fit=crop", overlay: "linear-gradient(135deg, hsl(var(--hue1) 70% 60% / 0.3), hsl(var(--hue2) 70% 60% / 0.3))" },
            { name: "Purple Storm", url: "https://images.unsplash.com/photo-1534274988757-a28bf1a57c17?w=500&auto=format", preview: "https://images.unsplash.com/photo-1534274988757-a28bf1a57c17?w=100&h=60&fit=crop", overlay: "linear-gradient(to bottom, hsl(var(--hue1) 70% 60% / 0.3), rgba(0,0,0,0.5))" },
            { name: "Blue Abyss", url: "https://images.unsplash.com/photo-1518834107812-67b0b7c58434?w=500&auto=format", preview: "https://images.unsplash.com/photo-1518834107812-67b0b7c58434?w=100&h=60&fit=crop", overlay: "radial-gradient(circle, hsl(var(--hue1) 70% 60% / 0.3), rgba(0,0,0,0.7))" },
            { name: "Synthwave", url: "https://images.unsplash.com/photo-1503435980610-a51f3ddfee50?w=500&auto=format", preview: "https://images.unsplash.com/photo-1503435980610-a51f3ddfee50?w=100&h=60&fit=crop", overlay: "linear-gradient(90deg, hsl(var(--hue1) 70% 60% / 0.4), hsl(var(--hue2) 70% 60% / 0.4))" },
            { name: "Dark Matter", url: "https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=500&auto=format", preview: "https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=100&h=60&fit=crop", overlay: "linear-gradient(to right, hsl(var(--hue1) 30% 20% / 0.8), hsl(var(--hue2) 30% 20% / 0.8))" },
            { name: "Crystal", url: "https://images.unsplash.com/photo-1518070462831-33d1e0a3cba0?w=500&auto=format", preview: "https://images.unsplash.com/photo-1518070462831-33d1e0a3cba0?w=100&h=60&fit=crop", overlay: "linear-gradient(45deg, hsl(var(--hue1) 80% 70% / 0.2), hsl(var(--hue2) 80% 70% / 0.2))" }
        ];

        function showNotification(text, duration = 2000) {
            const notif = document.createElement('div');
            notif.className = 'neon-notification';
            notif.textContent = text;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), duration);
        }

        function setWallpaper(url, overlay) {
            document.documentElement.style.setProperty('--wallpaper', `url('${url}')`);
            document.documentElement.style.setProperty('--wallpaper-overlay', overlay);
        }

        function initWallpaperGrid() {
            const $wallpaperGrid = document.getElementById('wallpaperGrid');
            $wallpaperGrid.innerHTML = '';
            wallpapers.forEach((wp, index) => {
                const item = document.createElement('div');
                item.className = 'wallpaper-item';
                item.style.backgroundImage = `url('${wp.preview}')`;
                item.dataset.index = index;
                item.dataset.url = wp.url;
                item.dataset.overlay = wp.overlay;
                item.title = wp.name;
                
                const currentWallpaper = localStorage.getItem('neon-wallpaper-url') || wallpapers[0].url;
                if (wp.url === currentWallpaper) item.classList.add('active');
                
                item.addEventListener('click', (e) => {
                    e.stopPropagation();
                    document.querySelectorAll('.wallpaper-item').forEach(el => el.classList.remove('active'));
                    item.classList.add('active');
                    setWallpaper(wp.url, wp.overlay);
                    localStorage.setItem('neon-wallpaper-url', wp.url);
                    localStorage.setItem('neon-wallpaper-overlay', wp.overlay);
                    showNotification(`üé® –û–±–æ–∏: ${wp.name}`);
                });
                $wallpaperGrid.appendChild(item);
            });
        }

        function loadSavedWallpaper() {
            const savedUrl = localStorage.getItem('neon-wallpaper-url');
            const savedOverlay = localStorage.getItem('neon-wallpaper-overlay');
            if (savedUrl) setWallpaper(savedUrl, savedOverlay);
            else setWallpaper(wallpapers[0].url, wallpapers[0].overlay);
        }

        // ---------- –ü–û–õ–û–ñ–ï–ù–ò–ï –ú–ï–ù–Æ ----------
        document.addEventListener("contextmenu", (e) => {
            const menuBox = $menu.getBoundingClientRect();
            const win = { width: window.innerWidth, height: window.innerHeight };
            let pos = { x: e.clientX, y: e.clientY };
            const pad = { x: 20, y: 20 };
            if (pos.x + menuBox.width >= win.width - pad.x) pos.x = win.width - menuBox.width - pad.x;
            if (pos.y + menuBox.height >= win.height - pad.y) pos.y = win.height - menuBox.height - pad.y;
            if (!$menu.contains(e.target)) {
                $menu.style.left = pos.x + 'px';
                $menu.style.top = pos.y + 'px';
                $menu.classList.add('open');
                clearTimeout(cleanTimer);
            }
            e.preventDefault();
        });

        $openWallpaperBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            const btnRect = $openWallpaperBtn.getBoundingClientRect();
            $menu.style.left = (btnRect.left - 20) + 'px';
            $menu.style.top = (btnRect.top - 320) + 'px';
            $menu.classList.add('open');
            clearTimeout(cleanTimer);
        });

        document.addEventListener('pointerdown', (e) => {
            const isMenu = $menu.contains(e.target);
            const isSlider = e.target.matches && e.target.matches('input[type="range"]');
            const isWallpaperBtn = e.target === $openWallpaperBtn || $openWallpaperBtn?.contains(e.target);
            
            if (!isMenu && !isSlider && !isWallpaperBtn) {
                $menu.classList.remove('open');
                cleanTimer = setTimeout(() => {
                    $menuItems.forEach(el => el.classList.remove('selected'));
                }, 200);
            } else if (isMenu && e.target.matches && e.target.matches('li')) {
                $menuItems.forEach(el => el.classList.remove('selected'));
                e.target.classList.add('selected');
            }
        });

        // ---------- –¶–í–ï–¢–û–í–´–ï –°–õ–ê–ô–î–ï–†–´ ----------
        $hue1.addEventListener('input', (e) => {
            requestAnimationFrame(() => {
                document.body.style.setProperty('--hue1', e.target.value);
                localStorage.setItem('neon-glass-hue1', e.target.value);
            });
        });
        $hue2.addEventListener('input', (e) => {
            requestAnimationFrame(() => {
                document.body.style.setProperty('--hue2', e.target.value);
                localStorage.setItem('neon-glass-hue2', e.target.value);
            });
        });

        const setHues = (random = false) => {
            const r1 = 120 + Math.floor(Math.random() * 240);
            const r2 = r1 - 80 + (Math.floor(Math.random() * 60) - 30);
            const v1 = random ? r1 : (localStorage.getItem('neon-glass-hue1') ?? r1);
            const v2 = random ? r2 : (localStorage.getItem('neon-glass-hue2') ?? r2);
            $hue1.value = v1; 
            $hue2.value = v2;
            document.body.style.setProperty('--hue1', v1);
            document.body.style.setProperty('--hue2', v2);
        };
        setHues();
        $rand.addEventListener('click', () => { setHues(true); showNotification('üé® –¢–µ–º–∞ —Å–ª—É—á–∞–π–Ω–∞—è!'); });

        window.addEventListener('keydown', (e) => { 
            if (e.key === 'Escape') {
                $menu.classList.remove('open');
                const app = document.querySelector('.neon-app'); 
                if (app) app.remove(); 
            } 
        });

        function closeCurrentApp() {
            const existing = document.querySelector('.neon-app');
            if (existing) existing.remove();
        }

        // ========== –ò–ì–†–ê: –ó–ú–ï–ô–ö–ê ==========
        function createSnakeGame(size = 15) {
            closeCurrentApp();
            const win = document.createElement('div');
            win.className = 'neon-app';
            win.innerHTML = `
                <button class="app-close">‚úï</button>
                <div class="app-header">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="9"/>
                    </svg>
                    <h2>Neon Snake ${size}x${size}</h2>
                </div>
                <div class="app-content game-container">
                    <div id="snakeGrid" class="snake-grid" style="grid-template-columns: repeat(${size}, 1fr);"></div>
                    <div style="display: flex; justify-content: space-between; width: 100%; margin-top: 8px;">
                        <span>üêç –î–ª–∏–Ω–∞: <span id="snakeScore">3</span></span>
                        <span id="snakeStatus" style="color: hsl(var(--hue1),80%,70%);">‚ñ∂Ô∏è –ò–≥—Ä–∞</span>
                    </div>
                    <div style="display: flex; gap: 12px; margin-top: 12px;">
                        <button id="snakeRestart" style="background: hsl(var(--hue1),70%,60%); border: none; padding: 0.6em 1.5em; border-radius: 30px; color: white; cursor: pointer;">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                        <button id="snakePause" style="background: rgba(255,255,255,0.2); border: none; padding: 0.6em 1.5em; border-radius: 30px; color: white; cursor: pointer;">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                    </div>
                </div>
            `;
            document.body.appendChild(win);
            
            const grid = win.querySelector('#snakeGrid');
            const scoreEl = win.querySelector('#snakeScore');
            const statusEl = win.querySelector('#snakeStatus');
            
            // –°–æ–∑–¥–∞–µ–º –∫–ª–µ—Ç–∫–∏
            for (let i = 0; i < size * size; i++) {
                const cell = document.createElement('div');
                cell.className = 'snake-cell';
                cell.dataset.index = i;
                grid.appendChild(cell);
            }
            
            let cells = win.querySelectorAll('.snake-cell');
            
            // –õ–æ–≥–∏–∫–∞ –∑–º–µ–π–∫–∏
            let snake = [Math.floor(size/2) * size + Math.floor(size/2)];
            let direction = 'right';
            let nextDirection = 'right';
            let food = -1;
            let gameInterval = null;
            let gameActive = false;
            let gamePaused = false;
            let score = 3;
            
            function placeFood() {
                const empty = [];
                cells.forEach((cell, idx) => {
                    if (!snake.includes(idx) && !cell.classList.contains('snake')) {
                        empty.push(idx);
                    }
                });
                if (empty.length > 0) {
                    food = empty[Math.floor(Math.random() * empty.length)];
                    cells[food]?.classList.add('food');
                } else {
                    // –ü–æ–±–µ–¥–∞!
                    statusEl.innerHTML = 'üèÜ –ü–û–ë–ï–î–ê!';
                    gameActive = false;
                    clearInterval(gameInterval);
                }
            }
            
            function updateGrid() {
                cells.forEach(cell => {
                    cell.classList.remove('snake', 'food');
                });
                
                snake.forEach((segment, idx) => {
                    if (cells[segment]) {
                        cells[segment].classList.add('snake');
                    }
                });
                
                if (food !== -1 && cells[food]) {
                    cells[food].classList.add('food');
                }
            }
            
            function moveSnake() {
                if (!gameActive || gamePaused) return;
                
                direction = nextDirection;
                
                const head = snake[0];
                let newHead = head;
                const row = Math.floor(head / size);
                const col = head % size;
                
                switch(direction) {
                    case 'right': newHead = row * size + (col + 1); break;
                    case 'left': newHead = row * size + (col - 1); break;
                    case 'up': newHead = (row - 1) * size + col; break;
                    case 'down': newHead = (row + 1) * size + col; break;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
                if (
                    newHead < 0 || newHead >= size * size ||
                    (direction === 'right' && col === size - 1) ||
                    (direction === 'left' && col === 0) ||
                    (direction === 'up' && row === 0) ||
                    (direction === 'down' && row === size - 1) ||
                    (snake.includes(newHead) && newHead !== snake[snake.length - 1])
                ) {
                    statusEl.innerHTML = 'üíÄ –ò–ì–†–ê –û–ö–û–ù–ß–ï–ù–ê';
                    gameActive = false;
                    clearInterval(gameInterval);
                    return;
                }
                
                snake.unshift(newHead);
                
                if (newHead === food) {
                    score++;
                    scoreEl.textContent = score;
                    placeFood();
                } else {
                    snake.pop();
                }
                
                updateGrid();
            }
            
            function initGame() {
                gameActive = true;
                gamePaused = false;
                statusEl.innerHTML = '‚ñ∂Ô∏è –ò–≥—Ä–∞';
                snake = [Math.floor(size/2) * size + Math.floor(size/2)];
                direction = 'right';
                nextDirection = 'right';
                score = 3;
                scoreEl.textContent = '3';
                
                // –£–¥–∞–ª—è–µ–º –µ–¥—É
                if (food !== -1 && cells[food]) {
                    cells[food].classList.remove('food');
                }
                
                updateGrid();
                placeFood();
                
                if (gameInterval) clearInterval(gameInterval);
                gameInterval = setInterval(moveSnake, 150);
            }
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            win.addEventListener('keydown', (e) => {
                if (!gameActive || gamePaused) return;
                e.preventDefault();
                switch(e.key) {
                    case 'ArrowUp': if (direction !== 'down') nextDirection = 'up'; break;
                    case 'ArrowDown': if (direction !== 'up') nextDirection = 'down'; break;
                    case 'ArrowLeft': if (direction !== 'right') nextDirection = 'left'; break;
                    case 'ArrowRight': if (direction !== 'left') nextDirection = 'right'; break;
                }
            });
            
            win.querySelector('#snakeRestart').addEventListener('click', () => {
                initGame();
            });
            
            win.querySelector('#snakePause').addEventListener('click', function() {
                gamePaused = !gamePaused;
                statusEl.innerHTML = gamePaused ? '‚è∏Ô∏è –ü–∞—É–∑–∞' : '‚ñ∂Ô∏è –ò–≥—Ä–∞';
                this.textContent = gamePaused ? '‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' : '‚è∏Ô∏è –ü–∞—É–∑–∞';
            });
            
            // –§–æ–∫—É—Å –¥–ª—è –∫–ª–∞–≤–∏—à
            win.tabIndex = 0;
            win.focus();
            
            initGame();
            win.querySelector('.app-close').addEventListener('click', () => win.remove());
        }

        // ========== –ò–ì–†–ê: –¢–ï–¢–†–ò–° (–£–ü–†–û–©–ï–ù–ù–´–ô) ==========
        function createTetrisGame() {
            closeCurrentApp();
            const win = document.createElement('div');
            win.className = 'neon-app';
            win.innerHTML = `
                <button class="app-close">‚úï</button>
                <div class="app-header">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 3v18"/>
                    </svg>
                    <h2>Neon Tetris</h2>
                </div>
                <div class="app-content game-container">
                    <div id="tetrisGrid" class="tetris-grid"></div>
                    <div style="display: flex; justify-content: space-between; width: 100%; margin-top: 8px;">
                        <span>üß© –°—á–µ—Ç: <span id="tetrisScore">0</span></span>
                        <span id="tetrisStatus" style="color: hsl(var(--hue1),80%,70%);">‚ñ∂Ô∏è –ò–≥—Ä–∞</span>
                    </div>
                    <button id="tetrisRestart" style="background: hsl(var(--hue1),70%,60%); border: none; padding: 0.6em 1.5em; border-radius: 30px; color: white; cursor: pointer; margin-top: 8px;">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                </div>
            `;
            document.body.appendChild(win);
            
            const grid = win.querySelector('#tetrisGrid');
            for (let i = 0; i < 200; i++) {
                const cell = document.createElement('div');
                cell.className = 'tetris-cell';
                grid.appendChild(cell);
            }
            
            showNotification('üéÆ Tetris Lite –∑–∞–≥—Ä—É–∂–µ–Ω! –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ‚Üê ‚Üí ‚Üì', 3000);
            win.querySelector('.app-close').addEventListener('click', () => win.remove());
        }

        // ========== –ù–ï–û–ù–ë–†–ê–£–ó–ï–† (WEBVIEW) ==========
        function createNeonBrowser() {
            closeCurrentApp();
            const win = document.createElement('div');
            win.className = 'neon-app';
            win.innerHTML = `
                <button class="app-close">‚úï</button>
                <div class="app-header">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <circle cx="12" cy="12" r="9"/><path d="M12 3v18M3 12h18"/>
                    </svg>
                    <h2>NeonBrowser</h2>
                </div>
                <div class="app-content neon-browser">
                    <div class="browser-toolbar">
                        <input type="text" id="browserUrl" class="browser-url" placeholder="https:// –∏–ª–∏ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å" value="https://example.com">
                        <button id="browserGo" class="browser-go">–ü–µ—Ä–µ–π—Ç–∏</button>
                    </div>
                    <div class="browser-frame">
                        <iframe id="browserFrame" src="https://example.com" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-downloads" allow="downloads"></iframe>
                    </div>
                    <div style="display: flex; gap: 8px; margin-top: 12px; font-size: 0.75rem; opacity: 0.8; flex-wrap: wrap;">
                        <span>üíæ –ó–∞–≥—Ä—É–∑–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è Neon OS</span>
                        <span id="downloadHint" style="color: hsl(var(--hue1),80%,70%);">‚¨áÔ∏è –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</span>
                    </div>
                </div>
            `;
            document.body.appendChild(win);
            
            const urlInput = win.querySelector('#browserUrl');
            const frame = win.querySelector('#browserFrame');
            
            // –≠–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–æ–∫
            function emulateDownload(filename) {
                handleDownloadedFile(filename, "NeonBrowser download simulation");
            }
            
            // –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å—Å—ã–ª–æ–∫ (—ç–º—É–ª—è—Ü–∏—è)
            frame.addEventListener('load', () => {
                try {
                    // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç
                    console.log('Page loaded:', frame.src);
                    
                    // –≠–º—É–ª–∏—Ä—É–µ–º –¥–µ—Ç–µ–∫—Ç –∑–∞–≥—Ä—É–∑–æ–∫ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
                    const url = frame.src;
                    if (url.includes('.exe') || url.includes('.bat') || url.includes('.msi') || url.includes('.dmg')) {
                        const filename = url.split('/').pop() || 'installer.exe';
                        emulateDownload(filename);
                    } else if (url.includes('.txt') || url.includes('.md') || url.includes('.log')) {
                        const filename = url.split('/').pop() || 'document.txt';
                        emulateDownload(filename);
                    } else if (url.includes('.png') || url.includes('.jpg') || url.includes('.jpeg') || url.includes('.gif')) {
                        const filename = url.split('/').pop() || 'image.png';
                        emulateDownload(filename);
                    }
                } catch(e) {}
            });
            
            win.querySelector('#browserGo').addEventListener('click', () => {
                let url = urlInput.value.trim();
                if (!url) return;
                
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    if (url.includes('.')) {
                        url = 'https://' + url;
                    } else {
                        // –ü–æ–∏—Å–∫
                        url = `https://www.google.com/search?q=${encodeURIComponent(url)}`;
                    }
                }
                frame.src = url;
            });
            
            // –°–ª—É—à–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–∞—Ö (—ç–º—É–ª—è—Ü–∏—è)
            window.addEventListener('message', (e) => {
                if (e.data && e.data.type === 'download') {
                    handleDownloadedFile(e.data.filename || 'file.bin', e.data.content);
                }
            });
            
            win.querySelector('.app-close').addEventListener('click', () => win.remove());
        }

        // ========== –§–ê–ô–õ–û–í–´–ô –ú–ï–ù–ï–î–ñ–ï–† ==========
        function createFileManager() {
            closeCurrentApp();
            const win = document.createElement('div');
            win.className = 'neon-app';
            win.innerHTML = `
                <button class="app-close">‚úï</button>
                <div class="app-header">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                        <path d="M2.5 12.5L9 5l6.5 7.5M9 5v14"/>
                    </svg>
                    <h2>–§–∞–π–ª—ã Neon OS</h2>
                </div>
                <div class="app-content">
                    <div class="file-list" id="fileList"></div>
                    <div class="download-area" id="downloadArea">
                        ‚¨áÔ∏è –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
                        <input type="file" id="fileUpload" multiple style="display: none;">
                    </div>
                </div>
            `;
            document.body.appendChild(win);
            
            function renderFiles() {
                const list = win.querySelector('#fileList');
                list.innerHTML = '';
                neonFileSystem.forEach((file, index) => {
                    const item = document.createElement('div');
                    item.className = 'file-item';
                    
                    let icon = 'üìÑ';
                    if (file.type === 'exe' || file.type === 'bat' || file.type === 'msi') icon = '‚öôÔ∏è';
                    else if (file.type === 'txt' || file.type === 'md' || file.type === 'log') icon = 'üìù';
                    else if (file.type === 'png' || file.type === 'jpg' || file.type === 'gif') icon = 'üñºÔ∏è';
                    else if (file.type === 'mp3' || file.type === 'wav') icon = 'üéµ';
                    else if (file.type === 'zip' || file.type === 'rar') icon = 'üì¶';
                    
                    item.innerHTML = `
                        <span class="file-icon">${icon}</span>
                        <div class="file-info">
                            <div class="file-name">${file.name}</div>
                            <div class="file-meta">${file.size} ¬∑ ${file.date}</div>
                        </div>
                        <button data-index="${index}" class="file-delete" style="background: rgba(255,80,80,0.3); border: none; border-radius: 20px; padding: 0.3em 1em; color: white; cursor: pointer;">üóëÔ∏è</button>
                    `;
                    
                    item.querySelector('.file-delete').addEventListener('click', (e) => {
                        e.stopPropagation();
                        neonFileSystem.splice(index, 1);
                        saveFileSystem();
                        renderFiles();
                        showNotification(`üóëÔ∏è ${file.name} —É–¥–∞–ª–µ–Ω`);
                    });
                    
                    list.appendChild(item);
                });
            }
            
            const dropArea = win.querySelector('#downloadArea');
            const fileInput = win.querySelector('#fileUpload');
            
            dropArea.addEventListener('click', () => fileInput.click());
            
            dropArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropArea.style.borderColor = 'hsl(var(--hue1),70%,70%)';
                dropArea.style.background = 'rgba(100,100,200,0.2)';
            });
            
            dropArea.addEventListener('dragleave', () => {
                dropArea.style.borderColor = 'rgba(255,255,255,0.3)';
                dropArea.style.background = 'transparent';
            });
            
            dropArea.addEventListener('drop', (e) => {
                e.preventDefault();
                dropArea.style.borderColor = 'rgba(255,255,255,0.3)';
                dropArea.style.background = 'transparent';
                
                const files = e.dataTransfer.files;
                for (let file of files) {
                    handleDownloadedFile(file.name, `–ü–µ—Ä–µ—Ç–∞—â–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: ${file.name}`);
                }
                renderFiles();
            });
            
            fileInput.addEventListener('change', () => {
                const files = fileInput.files;
                for (let file of files) {
                    handleDownloadedFile(file.name, `–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: ${file.name}`);
                }
                renderFiles();
                fileInput.value = '';
            });
            
            renderFiles();
            win.querySelector('.app-close').addEventListener('click', () => win.remove());
        }

        // ========== –ü–û–ì–û–î–ê ==========
        async function fetchWeatherFromApi(cityName) {
            try {
                const url = `https://api.weatherapi.com/v1/current.json?key=${WEATHER_API_KEY}&q=${encodeURIComponent(cityName)}&lang=ru&aqi=no`;
                const response = await fetch(url);
                if (!response.ok) return { error: "fetch_error" };
                const data = await response.json();
                return {
                    success: true,
                    data: {
                        city: data.location.name,
                        temp: Math.round(data.current.temp_c),
                        feels_like: Math.round(data.current.feelslike_c),
                        humidity: data.current.humidity,
                        wind_kph: data.current.wind_kph,
                        wind_dir: data.current.wind_dir,
                        condition: data.current.condition.text,
                        icon: '‚òÅÔ∏è',
                        last_updated: data.current.last_updated.split(' ')[1]
                    }
                };
            } catch { return { error: "network_error" }; }
        }

        function createWeatherApp() {
            closeCurrentApp();
            const win = document.createElement('div');
            win.className = 'neon-app';
            win.innerHTML = `<button class="app-close">‚úï</button><div class="app-header"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"/></svg><h2>–ü–æ–≥–æ–¥–∞ ¬∑ –†–æ—Å—Å–∏—è</h2></div><div class="app-content"><div style="display:flex; gap:8px; flex-wrap:wrap; margin-bottom:16px;" id="cityButtons"></div><div id="weatherDisplay">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...</div></div>`;
            document.body.appendChild(win);
            const container = win.querySelector('#cityButtons');
            RUSSIAN_CITIES.forEach(city => {
                const btn = document.createElement('button');
                btn.textContent = city;
                btn.style = 'background:rgba(30,40,70,0.6); border:1px solid rgba(255,255,255,0.2); border-radius:30px; padding:0.5em 1em; color:white; cursor:pointer;';
                btn.onclick = async () => {
                    const res = await fetchWeatherFromApi(city);
                    const d = res.success ? res.data : null;
                    win.querySelector('#weatherDisplay').innerHTML = d ? 
                        `<div style="display:flex; flex-direction:column; gap:12px;">
                            <div style="font-size:2rem;">${d.city}, ${d.temp}¬∞C</div>
                            <div>${d.condition}, –æ—â—É—â–∞–µ—Ç—Å—è ${d.feels_like}¬∞C</div>
                            <div>üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å: ${d.humidity}% ¬∑ üå¨ –í–µ—Ç–µ—Ä: ${d.wind_kph} –∫–º/—á</div>
                            <div style="opacity:0.7;">üïí –æ–±–Ω–æ–≤–ª–µ–Ω–æ: ${d.last_updated}</div>
                        </div>` : '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                };
                container.appendChild(btn);
            });
            win.querySelector('.app-close').addEventListener('click', () => win.remove());
        }

        // ---------- –î–†–£–ì–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ----------
        function createCalculator() { closeCurrentApp(); showNotification('üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–ø—É—â–µ–Ω', 1500); }
        function createNotesApp() { closeCurrentApp(); showNotification('üìù –ó–∞–º–µ—Ç–∫–∏ –∑–∞–ø—É—â–µ–Ω—ã', 1500); }
        function createMusicApp() { closeCurrentApp(); showNotification('üéµ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä', 1500); }
        function createTerminalApp() { closeCurrentApp(); showNotification('üíª –¢–µ—Ä–º–∏–Ω–∞–ª Neon OS', 1500); }
        function createTimerApp() { closeCurrentApp(); showNotification('‚è±Ô∏è –¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω', 1500); }

        // ---------- –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–ô ----------
        const appLauncher = {
            snake: () => createSnakeGame(15),
            snake2: () => createSnakeGame(12),
            tetris: createTetrisGame,
            browser: createNeonBrowser,
            files: createFileManager,
            calculator: createCalculator,
            notes: createNotesApp,
            weather: createWeatherApp,
            music: createMusicApp,
            terminal: createTerminalApp,
            timer: createTimerApp
        };

        $menuItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.stopPropagation();
                const appId = item.dataset.app;
                if (appId && appLauncher[appId]) {
                    appLauncher[appId]();
                    $menu.classList.remove('open');
                    showNotification(`‚ú® ${item.textContent.trim()}`, 1500);
                }
            });
        });

        // ---------- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ----------
        initWallpaperGrid();
        loadSavedWallpaper();
        saveFileSystem();
    })();
</script>
</body>
</html>
